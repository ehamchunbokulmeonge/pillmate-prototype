# PillMate (필메이트)

**AI 비전 인식 기반 약물 정보 분석 및 중복 복용 방지 솔루션**

PillMate는 사용자가 약 패키지를 스마트폰으로 촬영하면 AI가 약품명과 성분을 자동 인식하여 효능, 복용법, 주의사항을 분석해 주는 헬스케어 서비스입니다. 단순 기록을 넘어 중복 성분 및 병용 금기 약물을 사전에 탐지하여 다제약물 복용자의 안전한 약물 관리를 돕습니다.

---
### 👇프로젝트 문서👇
### [\[애햄춘복울멍이\]PillMate기획서.pdf](https://github.com/user-attachments/files/23640042/PillMate.pdf)

### 👇PillMate 서버 깃허브👇
### [PillMate서버깃허브](https://github.com/ehamchunbokulmeonge/pillmate-server)
-----

## 1\. 프로젝트 개요

### 기획 배경

고령화와 만성질환 증가로 다제약물(5개 이상 약물) 복용자가 늘어나고 있습니다. 약의 종류가 많아질수록 중복 복용과 부작용 위험이 커지지만, 약사 인력 부족으로 충분한 복약 상담이 어렵고 기존 앱은 약 이름을 직접 입력해야 하는 불편함이 있었습니다. PillMate는 이러한 문제를 AI 비전 기술과 자동화된 분석 시스템으로 해결하고자 합니다.

---

#### 1. 약물 복용 오류 유형 분석 (시민 설문)
다제약물 복용의 위험성은 실제 설문 결과로도 입증됩니다.

<img width="100%" alt="약물 복용 오류 유형" src="https://github.com/user-attachments/assets/f23eed60-23a8-4094-837e-50c59ef7ed89" />

서울시약사회 설문에 따르면, 1대1 약물 상담을 받은 시민 중 **44.9%** 가 약물 중복이나 복용 오류를 경험했습니다. 특히 진통제와 위장약의 중복 복용, 복용시간 착오가 각각 20% 내외로 나타나, **시민들은 자신이 오류 복용을 하고 있는지 잘 인지하지 못하며 정확한 약물 관리와 안내가 필요함**을 보여줍니다.



#### 2. 전문 상담을 통한 관리 필요성 입증
전문적인 약물 상담은 시민들의 서비스 수용도를 높이는 핵심 요인입니다.

<img width="100%" alt="약사 상담 후 만족도와 참여 의향" src="https://github.com/user-attachments/assets/4f9438fb-486c-4cab-b61b-4e9a18bc227b" />

약사와의 1:1 상담 후, 시민들의 상담 만족도는 **83.1%** 로 높게 나타났으며, 관리사업 참여 의향과 추천 의향도 각각 **77.5%** 와 **86.5%** 로 상승했습니다. 이는 **전문 상담 경험이 시민의 인식을 긍정적으로 변화시키며, AI 기반의 관리 서비스 확장 시 높은 수용 가능성을 의미**합니다.


#### 3. 언론 보도 및 연구 근거 (Supporting Evidence)

다제약물(polypharmacy) 복용은 고령층에서 특히 심각한 문제로, 약물 간 중복, 부작용, 복용 오류 등이 빈번하게 발생합니다. 이러한 문제는 국내외 연구와 통계에서 반복적으로 확인되며, PillMate가 제시하는 AI 기반 솔루션의 필요성을 뒷받침합니다.

---

### 1) 고령층 다제약물 복용의 위험성
- 65세 이상 노인의 다제약물 복용(≥5개 약물)은 **입원 위험 1.52배, 사망 위험 3.17배 증가**하는 것으로 보고되었습니다. ([PubMed](https://pubmed.ncbi.nlm.nih.gov/40855507/?utm_source=chatgpt.com))  
- 다제약물 복용 그룹은 연간 의료비가 약 **872,000원 더 높고**, 외래 및 약제 비용도 유의하게 증가했습니다. ([Arch Public Health](https://archpublichealth.biomedcentral.com/articles/10.1186/s13690-025-01703-3?utm_source=chatgpt.com))  
- 전국 코호트 연구에서는 다제약물 복용 노인에서 사망 위험이 약 **1.25배 증가**한다는 결과가 있습니다. ([PubMed](https://pubmed.ncbi.nlm.nih.gov/33144598/?utm_source=chatgpt.com))  

> 즉, 고령층에서는 약물 복용 수가 많아질수록 건강 위험과 경제적 부담이 눈에 띄게 증가하며, 체계적인 관리가 필요함을 알 수 있습니다.

---

### 2) 다제약물 유병률 및 예측 인자
- 2010~2019년 한국 고령자를 대상으로 한 연구에서 다제약물(5개 이상) 복용률은 **약 42%**, 과다 복용(10개 이상) 비율은 증가 추세를 보였습니다. ([PubMed](https://pubmed.ncbi.nlm.nih.gov/35614938/?utm_source=chatgpt.com))  
- 장기 복용(≥90일, ≥180일) 환자에서는 **성별, 연령, 동반질환(심혈관 질환, 당뇨 등)** 이 중요한 예측 인자로 확인되었습니다. ([PubMed](https://pubmed.ncbi.nlm.nih.gov/36401587/?utm_source=chatgpt.com))  

> 다제약물 복용이 흔하며, 특정 인자와 연관되어 있다는 점은, 관리와 모니터링이 체계적으로 필요함을 보여줍니다.

---

### 3) 부적절 다제약물 사용의 건강 영향
- 65세 이상에서 장기간 10개 이상의 약물을 복용할 경우, **입원·응급실 방문·사망 위험이 1.3~2.8배 증가** 했습니다. ([HIRA Repository](https://repository.hira.or.kr/handle/2019.oak/3086?utm_source=chatgpt.com))  
- CYP3A4 기질 약물과 억제제를 동시에 복용할 경우 **부정맥 발생 위험이 증가**한다는 보고도 있습니다. ([KoreaScience](https://koreascience.kr/article/JAKO202307357630959.pdf?utm_source=chatgpt.com))  

> 즉, 다제약물 복용은 단순히 숫자가 많다는 문제를 넘어, 실제 건강 위험으로 이어지며 적극적인 모니터링과 예방이 필요합니다.

---

### 4) 사회적 실태 및 정책 필요성
- 다제약물 사용이 빈번한 고령자 집단에서는 **약물 관련 부정적 건강 결과와 관리 기준 필요성** 이 보고되었습니다. ([HIRA Repository](https://repository.hira.or.kr/handle/2019.oak/3039?utm_source=chatgpt.com))  
- 독거노인을 대상으로 한 질적 연구에서는, 다제약물 복용이 **정신적·물리적 부담** 으로 작용하며 스스로 건강 관리에 어려움을 준다고 나타났습니다. ([KAIS](https://www.kais99.org/jkais/journal/Vol25no04/Vol25no04p57.pdf?utm_source=chatgpt.com))  

> 이러한 사회적 배경을 바탕으로, PillMate는 단순 알림 기능을 넘어 **실질적 안전성과 편의성을 제공하는 약물 관리 솔루션**으로 설계되었습니다.

👉 위 근거들을 통해, PillMate는 단순 알림 기능이 아닌 **고령층과 다제약물 복용자를 위한 안전하고 실질적인 약물 관리 솔루션**이라는 점을 강조할 수 있습니다.

---

### 2. 주요 기능 및 UI

> __※ 참고:__ 아래의 UI 예시 이미지는 서비스의 기능 이해를 돕기 위해 제작된 **초기 프로토타입**입니다. 실제 개발 및 배포 과정에서 디자인과 레이아웃은 변경될 수 있습니다.

| 약 패키지 촬영 (OCR) | 메인 대시보드 | 약물 상세 정보 |
| :---: | :---: | :---: |
| <img width="92.5%" alt="약추가" src="https://github.com/user-attachments/assets/a21383d5-b59d-452f-bf53-d96939ffb59f" /> | <img width="100%" alt="메인" src="https://github.com/user-attachments/assets/fd725290-5676-41e5-bc4d-680c8d5808e9" /> | <img width="100%" alt="약" src="https://github.com/user-attachments/assets/907ddce2-fd8e-4005-b397-968612370594" /> |

* **One-Shot 약물 등록:** 스마트폰 카메라로 약 패키지를 촬영하면 이미지 내 텍스트를 추출하여 약품명을 식별하고 자동 등록합니다.
* **위험도 분석 시스템:** 등록된 약물 간의 상호작용을 분석하여 중복 복용, 병용 금기 성분 검출 시 즉시 경고 알림을 제공합니다.
* **스마트 복용 스케줄링:** 약물별 복용 주기를 기반으로 개인 맞춤형 알림을 생성하고 관리합니다.
* **AI 약사 상담:** 사용자의 약물 리스트를 기반으로 LLM이 복약 관련 질문에 대해 개인화된 답변을 제공합니다.

---

## 3. 서비스 흐름도 (Service Flow)

사용자가 사진을 촬영하고 안전 정보를 확인하기까지의 프로세스입니다.

<img width="100%" alt="Image" src="https://github.com/user-attachments/assets/f8ff6079-29b8-4e3f-bc83-c8359fb2ae91" />
---

## 4. 서비스 경쟁력 및 포지셔닝

기존 약물 관리 서비스들이 수기 입력이나 단순 알림에 그치는 것과 달리, PillMate는 **약물 인식(Vision AI)** 부터 성분 분석(Data Analysis), **개인화 상담(LLM)** 까지 통합된 올인원 솔루션을 제공합니다.

<img width="100%" alt="경쟁사 분석 및 포지셔닝 맵" src="https://github.com/user-attachments/assets/e18f3edb-9e95-43f1-96d4-136cc4fc4377" /> 
<br>
  * **차별점**: 사진 한 장 기반의 자동화된 데이터 입력 및 분석 프로세스.
  * **기술적 우위**: 성분 중복 분석 및 개인 맞춤형 스케줄링 기능 통합.

-----

## 5\. 기술 아키텍처 및 AI 모델

PillMate는 정확도 높은 정보 제공을 위해 다단계 AI 파이프라인을 구축합니다.

### 데이터 파이프라인 (Data Sources)

  * 식품의약품안전처 의약품 제품 허가정보
  * 식품의약품안전처 낱알 식별 정보 및 마약류 오남용 정보
  * AI Hub 의약품/화장품 패키징 OCR 데이터

### 핵심 AI 구현 전략

#### 1\) 이미지 전처리 (Image Preprocessing)

약 패키지의 곡면, 빛 반사, 노이즈를 제거하기 위해 OpenCV를 활용합니다. 그레이스케일 변환, 이진화, 기하학적 왜곡 보정을 수행하여 OCR 엔진의 인식률을 최적화할것입니다.

#### 2\) 텍스트 인식 (OCR Fine-tuning)

Tesseract OCR 및 EasyOCR 모델을 활용합니다. 의약품 패키지에 특화된 폰트와 레이아웃 데이터를 기반으로 파인튜닝(Fine-tuning)하여 약품명 인식의 정확도를 확보할것입니다.

#### 3\) 텍스트 정규화 (Normalization)

OCR 과정에서 발생하는 오인식(Noise)을 보정하기 위해 Transformer 기반 정규화 모델을 적용합니다. 인식된 텍스트를 식약처 DB의 표준 약품명과 매핑하여 데이터 정합성을 유지합니다.

#### 4\) 위험 분석 및 상담 (Rule-Engine & LLM)

  * **분석**: 성분 코드를 기준으로 Rule-based 알고리즘이 상호작용 위험을 1차적으로 필터링합니다.
  * **상담**: GPT 기반 모델에 RAG(검색 증강 생성) 방식을 적용하여, 할루시네이션(Hallucination)을 최소화하고 식약처 데이터에 근거한 신뢰도 높은 답변을 제공합니다.

데이터와 AI 모델 정보를 가장 깔끔하게 보여주는 방법은 \*\*마크다운 표(Table)\*\*를 활용하는 것입니다.
기존의 서술형 텍스트 대신, 아래 내용을 복사해서 **4. 기술 아키텍처 및 AI 모델** 섹션을 교체하거나 새로 추가하시면 됩니다.

-----

## 6\. 활용 데이터 및 AI 모델

PillMate는 공공 데이터와 다단계 AI 파이프라인을 결합하여 높은 정확도의 약물 분석 서비스를 제공합니다.

### 1\) 활용 데이터 목록

식품의약품안전처와 공공데이터포털의 신뢰할 수 있는 데이터를 기반으로 DB를 구축했습니다.

| 활용 데이터명 | 출처 | 주요 활용 목적 |
| :--- | :---: | :--- |
| **식품의약품안전처\_마약류 약물 및 오남용 정보** | 식약처 | 위험 약물 감지 및 경고 시스템 구축 |
| **의약품, 화장품 패키징 OCR 데이터** | 공공데이터 | 약 패키지 텍스트 인식 모델 학습용 핵심 데이터 |
| **식품의약품안전처\_의약품 제품 허가정보** | 식약처 | 약물 성분·용법·제형 DB 구축 |
| **식품의약품안전처\_의약품개요정보(e약은요)** | 식약처 | 사용자 친화적 복용법 및 주의사항 조회 |

<br>

### 2\) 적용 AI 모델

단순 텍스트 인식을 넘어, 정규화와 맥락 분석을 통해 데이터의 정확성을 확보했습니다.

| 기능 | 모델 종류 | 활용 목적 |
| :--- | :--- | :--- |
| **패키지 OCR** | Tesseract OCR / EasyOCR (Fine-Tuning) | 약 패키지 표기 텍스트(약품명, 용량, 회사명) 인식 |
| **텍스트 정규화** | Transformer 기반 정규화/오타보정 모델 | OCR 오인식 텍스트를 정확한 표준 약 이름으로 매핑 |
| **약 정보 질의·상담** | GPT 기반 LLM | 사용자 질문에 대한 복용법, 상호작용, 주의사항 설명 |
| **중복 위험 탐지** | Rule-Based + Embedding Similarity | 성분 중복 여부 및 약물 간 상호작용 자동 감지 |
-----

## 7\. 기대 효과

본 서비스는 개인의 복약 안전성을 높이고 사회적 비용을 절감하는 데 기여합니다.

  * __사회적 측면:__ 약물 오남용 및 중복 복용 사전 예방, 고령층의 디지털 헬스케어 접근성 강화.
  * __경제적 측면:__ 부작용으로 인한 추가 의료비 지출 감소 및 잘못된 보관으로 인한 의약품 폐기 비용 절감.
  * __기술적 측면:__ 공공 의료 데이터와 비전 AI 기술을 결합한 실용적인 헬스케어 서비스 모델 제시.
